/* =============================================================================
   form.css — Validation states, error feedback, toast notifications
   Linked from home.html alongside home.css
   ============================================================================= */


/* ─────────────────────────────────────────────────────────────────────────────
   FORM GROUP — wraps label + input + error/valid messages
   ───────────────────────────────────────────────────────────────────────────── */
.form-group {
    position: relative;
}

/* Label shifts colour based on field state */
.form-group.has-error   label { color: #e74c3c; transition: color 0.2s; }
.form-group.has-success label { color: #2ecc71; transition: color 0.2s; }


/* ─────────────────────────────────────────────────────────────────────────────
   INLINE ERROR MESSAGE (slides in under the field)
   ───────────────────────────────────────────────────────────────────────────── */
.field-error {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 0.82em;
    color: #e74c3c;
    margin-top: 0;
    max-height: 0;
    overflow: hidden;
    opacity: 0;
    transition: max-height 0.3s ease, opacity 0.3s ease, margin-top 0.3s ease;
    pointer-events: none;
}

.field-error.visible {
    max-height: 60px;
    opacity: 1;
    margin-top: 6px;
}

/* Warning icon prefix */
.field-error::before {
    content: "⚠";
    font-size: 0.95em;
    flex-shrink: 0;
}


/* ─────────────────────────────────────────────────────────────────────────────
   INLINE VALID MESSAGE (slides in under the field when correct)
   ───────────────────────────────────────────────────────────────────────────── */
.field-valid-msg {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 0.82em;
    color: #2ecc71;
    margin-top: 0;
    max-height: 0;
    overflow: hidden;
    opacity: 0;
    transition: max-height 0.3s ease, opacity 0.3s ease, margin-top 0.3s ease;
    pointer-events: none;
}

.field-valid-msg.visible {
    max-height: 40px;
    opacity: 1;
    margin-top: 6px;
}

/* Checkmark prefix */
.field-valid-msg::before {
    content: "✓";
    font-size: 0.95em;
    flex-shrink: 0;
}


/* ─────────────────────────────────────────────────────────────────────────────
   FIELD BORDER & GLOW STATES
   ───────────────────────────────────────────────────────────────────────────── */
input.field-invalid,
textarea.field-invalid {
    border-color: #e74c3c !important;
    box-shadow:   0 0 0 3px rgba(231, 76, 60, 0.22) !important;
    background:   rgba(231, 76, 60, 0.05) !important;
    transition:   border-color 0.2s, box-shadow 0.2s, background 0.2s;
}

input.field-valid,
textarea.field-valid {
    border-color: #2ecc71 !important;
    box-shadow:   0 0 0 3px rgba(46, 204, 113, 0.18) !important;
    transition:   border-color 0.2s, box-shadow 0.2s;
}


/* ─────────────────────────────────────────────────────────────────────────────
   SHAKE ANIMATION (applied to invalid inputs on submit attempt)
   ───────────────────────────────────────────────────────────────────────────── */
@keyframes shake {
    0%   { transform: translateX(0); }
    15%  { transform: translateX(-8px); }
    30%  { transform: translateX(8px); }
    45%  { transform: translateX(-6px); }
    60%  { transform: translateX(6px); }
    75%  { transform: translateX(-3px); }
    90%  { transform: translateX(3px); }
    100% { transform: translateX(0); }
}

.shake {
    animation: shake 0.5s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
}


/* ─────────────────────────────────────────────────────────────────────────────
   VALIDATION SUMMARY BOX (shown above the submit button on submit failure)
   ───────────────────────────────────────────────────────────────────────────── */
.validation-summary {
    background:    rgba(231, 76, 60, 0.08);
    border:        1px solid rgba(231, 76, 60, 0.35);
    border-left:   4px solid #e74c3c;
    border-radius: 10px;
    padding:       16px 20px;
    margin-bottom: 18px;
}

.validation-summary.summary-animate {
    animation: slideDown 0.35s ease;
}

@keyframes slideDown {
    from { opacity: 0; transform: translateY(-10px); }
    to   { opacity: 1; transform: translateY(0); }
}

.vs-title {
    color:         #e74c3c;
    font-weight:   700;
    font-size:     0.9em;
    margin-bottom: 8px;
}

#validationList {
    margin:      0;
    padding-left: 18px;
    color:        rgba(255, 255, 255, 0.8);
    font-size:    0.85em;
    line-height:  2;
}


/* ─────────────────────────────────────────────────────────────────────────────
   SUBMIT BUTTON — error flash (red pulse on failed submit)
   ───────────────────────────────────────────────────────────────────────────── */
@keyframes btnErrorPulse {
    0%   { box-shadow: 0 0 0 0    rgba(231, 76, 60, 0);    background: linear-gradient(135deg, #3498db, #2980b9); }
    25%  { box-shadow: 0 0 0 10px rgba(231, 76, 60, 0.45); background: linear-gradient(135deg, #e74c3c, #c0392b); }
    75%  { box-shadow: 0 0 0 5px  rgba(231, 76, 60, 0.2);  background: linear-gradient(135deg, #e74c3c, #c0392b); }
    100% { box-shadow: 0 0 0 0    rgba(231, 76, 60, 0);    background: linear-gradient(135deg, #3498db, #2980b9); }
}

.submit-btn.btn-error {
    animation: btnErrorPulse 0.7s ease forwards;
}


/* ─────────────────────────────────────────────────────────────────────────────
   TOAST NOTIFICATION SYSTEM
   ───────────────────────────────────────────────────────────────────────────── */
#toast-container {
    position:        fixed;
    top:             24px;
    left:            50%;
    transform:       translateX(-50%);
    z-index:         9999;
    display:         flex;
    flex-direction:  column;
    align-items:     center;
    gap:             10px;
    pointer-events:  none;
}

.toast {
    display:         flex;
    align-items:     flex-start;
    gap:             14px;
    padding:         16px 22px;
    border-radius:   12px;
    min-width:       300px;
    max-width:       480px;
    backdrop-filter: blur(16px);
    box-shadow:      0 8px 32px rgba(0, 0, 0, 0.5), 0 2px 8px rgba(0, 0, 0, 0.3);
    pointer-events:  all;
    font-family:     -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    font-size:       0.93em;
    line-height:     1.5;
    position:        relative;
    overflow:        hidden;
    animation:       toastIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) both;
}

@keyframes toastIn {
    from { opacity: 0; transform: translateY(-20px) scale(0.9); }
    to   { opacity: 1; transform: translateY(0)     scale(1);   }
}

@keyframes toastOut {
    from { opacity: 1; transform: translateY(0)      scale(1);    }
    to   { opacity: 0; transform: translateY(-16px)  scale(0.92); }
}

.toast.removing {
    animation: toastOut 0.3s ease forwards;
}

/* Toast colour themes */
.toast.toast-error {
    background:  rgba(30, 6, 6, 0.95);
    border:      1px solid rgba(231, 76, 60, 0.5);
    border-left: 4px solid #e74c3c;
    color:       #fff;
}

.toast.toast-warning {
    background:  rgba(30, 22, 4, 0.95);
    border:      1px solid rgba(243, 156, 18, 0.5);
    border-left: 4px solid #f39c12;
    color:       #fff;
}

.toast.toast-success {
    background:  rgba(4, 24, 10, 0.95);
    border:      1px solid rgba(46, 204, 113, 0.5);
    border-left: 4px solid #2ecc71;
    color:       #fff;
}

/* Circular icon badge */
.toast-icon {
    width:       30px;
    height:      30px;
    min-width:   30px;
    border-radius: 50%;
    display:     flex;
    align-items: center;
    justify-content: center;
    font-size:   1em;
    font-weight: 700;
    margin-top:  1px;
}

.toast-error   .toast-icon { background: rgba(231, 76, 60, 0.25);  color: #e74c3c; }
.toast-warning .toast-icon { background: rgba(243, 156, 18, 0.25); color: #f39c12; }
.toast-success .toast-icon { background: rgba(46, 204, 113, 0.25); color: #2ecc71; }

.toast-body { flex: 1; }

.toast-title {
    font-weight:   700;
    font-size:     1em;
    margin-bottom: 3px;
}

.toast-text {
    opacity:   0.82;
    font-size: 0.88em;
}

/* Dismiss button */
.toast-close {
    background:   none;
    border:       none;
    color:        rgba(255, 255, 255, 0.45);
    font-size:    1.1em;
    cursor:       pointer;
    padding:      0 0 0 8px;
    line-height:  1;
    transition:   color 0.2s;
    align-self:   flex-start;
    margin-top:   1px;
}

.toast-close:hover { color: rgba(255, 255, 255, 0.9); }

/* Auto-dismiss progress bar (shrinks from full width to 0 over `duration` ms) */
.toast-progress {
    position:      absolute;
    bottom:        0;
    left:          0;
    height:        3px;
    border-radius: 0 0 12px 12px;
    animation:     progressShrink linear forwards;
}

@keyframes progressShrink {
    from { width: 100%; }
    to   { width: 0%; }
}

.toast-error   .toast-progress { background: #e74c3c; }
.toast-warning .toast-progress { background: #f39c12; }
.toast-success .toast-progress { background: #2ecc71; }